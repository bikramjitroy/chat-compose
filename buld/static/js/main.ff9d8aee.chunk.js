(this.webpackJsonpfinalflow=this.webpackJsonpfinalflow||[]).push([[0],{22:function(e){e.exports=JSON.parse('[{"id":"dndnode_0","type":"selectorNodeStart","position":{"x":210,"y":60},"label":"Start","data":{"label":"Start","description":"Start Point","subtype":"","type":"node","image":"eye.svg","class":"blockyGrey"}}]')},27:function(e,t,s){},36:function(e,t,s){},37:function(e,t,s){},39:function(e,t,s){"use strict";s.r(t);var a=s(0),i=s.n(a),n=s(10),l=s.n(n),c=(s(27),s(5)),o=s(6),d=s(8),r=s(7),p=s(11),b=s(1),h={send:{title:"Bot Send",elements:[{label:"Text",description:"Triggers when somebody visits a specified page",type:"selectorInput",image:"eye.svg",subtype:"text",class:"blockyBlue"},{label:"Multimedia",description:"Triggers when somebody visits a specified page",type:"selectorInput",image:"database.svg",subtype:"multimedia",class:"blockyBlue"},{label:"Suggestion Cips",description:"Triggers when somebody visits a specified page",type:"selectorInput",subtype:"suggestionchip",image:"time.svg",class:"blockyBlue"},{label:"Carousel Cips",description:"Triggers when somebody visits a specified page",type:"selectorInput",subtype:"carousel",image:"error.svg",class:"blockyBlue"}]},receive:{title:"Bot Recevies",elements:[{label:"User Input",description:"Triggers when somebody visits a specified page",type:"selectorUserInput",image:"eye.svg",subtype:"userinput",class:"blockyGreen"},{label:"Attribute",description:"Triggers when somebody visits a specified page",type:"selectorUserInput",image:"action.svg",subtype:"userattribute",class:"blockyGreen"}]},action:{title:"Bot Actions",elements:[{label:"To Agent",subtype:"toagent",description:"Triggers when somebody visits a specified page",type:"selectorInput",image:"action.svg",class:"blockyGrey"},{label:"Api Calling",subtype:"apicalling",description:"Triggers when somebody visits a specified page",type:"selectorInput",image:"action.svg",class:"blockyGrey"},{label:"Script Node",subtype:"scriptnode",description:"Triggers when somebody visits a specified page",type:"selectorInput",image:"action.svg",class:"blockyGrey"},{label:"Close",subtype:"closenode",description:"Triggers when somebody visits a specified page",type:"selectorStop",image:"terminate.svg",class:"blockyRed"}]}},j=function(e){Object(d.a)(s,e);var t=Object(r.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).state={activeClass:"send",elemetArray:h,elemetOrig:h},a.filterList=a.filterList.bind(Object(p.a)(a)),a}return Object(o.a)(s,[{key:"filterList",value:function(e){}},{key:"_handleClick",value:function(e){this.setState({activeClass:e.target.id})}},{key:"onDragStart",value:function(e,t,s){e.dataTransfer.setData("application/reactflow",t),e.dataTransfer.setData("element",s),e.dataTransfer.effectAllowed="move"}},{key:"render",value:function(){var e=this;return Object(b.jsxs)("div",{id:"leftcard",children:[Object(b.jsx)("div",{id:"closecard",children:Object(b.jsx)("img",{src:"assets/closeleft.svg",alt:"close"})}),Object(b.jsx)("p",{id:"header",children:"Blocks"}),Object(b.jsxs)("div",{id:"search",children:[Object(b.jsx)("img",{src:"assets/search.svg",alt:"search"}),Object(b.jsx)("input",{type:"text",placeholder:"Search blocks",onChange:this.filterList})]}),Object(b.jsx)("div",{id:"subnav",children:Object.keys(this.state.elemetArray).map((function(t,s){return Object(b.jsx)("div",{id:t,className:e.state.activeClass===t?"navactive side":"navdisabled side",onClick:e._handleClick.bind(e),children:e.state.elemetArray[t].title},"menu_"+s)}))}),Object.keys(this.state.elemetArray).map((function(t,s){return Object(b.jsx)("div",{id:"blocklist".concat(++s," ").concat(t),className:e.state.activeClass===t?"blocklist":"hidden blocklist",children:e.state.elemetArray[t].elements.map((function(t,a){return Object(b.jsxs)("div",{className:"blockelem create-flowy noselect",onDragStart:function(s){return e.onDragStart(s,t.type,JSON.stringify(t))},draggable:!0,children:[Object(b.jsx)("div",{className:"grabme",children:Object(b.jsx)("img",{src:"assets/grabme.svg",alt:"grabme"})}),Object(b.jsxs)("div",{className:"blockin",children:[Object(b.jsxs)("div",{className:"blockico",children:[Object(b.jsx)("span",{}),Object(b.jsx)("img",{src:"assets/".concat(t.image),alt:t.image})]}),Object(b.jsxs)("div",{className:"blocktext",children:[Object(b.jsx)("p",{className:"blocktitle",children:t.label}),Object(b.jsx)("p",{className:"blockdesc",children:t.description})]})]})]},"menu_compo"+s+"_"+a)}))},"menu_compo"+s)}))]})}}]),s}(a.Component),m=s(3),u=s(4),v=s(15),g=(s(38),function(e){Object(d.a)(s,e);var t=Object(r.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).state={element:e.element,updateNodeCb:e.updateNodeCb,clicked:"dataprop",rowChip:e.element&&e.element.data.rowChip||[{image:"",text:"",description:""}],theme:"light",language:"javascript",isEditorReady:!1},a.updateText1=a.updateText1.bind(Object(p.a)(a)),a}return Object(o.a)(s,[{key:"componentWillReceiveProps",value:function(e){this.state.element||(this.setState({element:e.element,updateNodeCb:e.updateNodeCb,clicked:"dataprop",rowChip:e.element&&e.element.data.rowChip||[{image:"",text:"",description:""}]}),console.log("nextProps",e))}},{key:"componentWillUpdate",value:function(e,t){e.element&&this.state.element&&e.element.id!==this.state.element.id&&this.setState({element:e.element,updateNodeCb:e.updateNodeCb,clicked:"dataprop",rowChip:e.element&&e.element.data.rowChip||[{image:"",text:"",description:""}]}),console.log("nextPropswill",e,t,this.state)}},{key:"handleInputChange",value:function(e,t){var s=e.target,a=s.name,i=s.value,n=Object(v.a)(this.state.rowChip);if(n[t][a]=i,this.setState({rowChip:n}),"suggestionchip"===this.state.element.data.subtype||"carousel"===this.state.element.data.subtype){var l={rowChip:n},c=Object.assign({},this.state.element.data,l);this.setState({element:Object(m.a)(Object(m.a)({},this.state.element),{},{data:Object(m.a)({},c)})})}}},{key:"handleRemoveClick",value:function(e){var t=Object(v.a)(this.state.rowChip);t.splice(e,1),this.setState({rowChip:t})}},{key:"handleAddClick",value:function(){this.setState({rowChip:[].concat(Object(v.a)(this.state.rowChip),[{image:"",text:"",description:""}])})}},{key:"_handleClick",value:function(e){this.setState({clicked:e.target.id})}},{key:"_handleClickClose",value:function(e){console.log("clled"),this.setState({clicked:"dataprop",element:null})}},{key:"handlerChange",value:function(e){if("id_label"===e.target.id)this.setState({element:Object(m.a)(Object(m.a)({},this.state.element),{},{label:e.target.value,data:Object(m.a)(Object(m.a)({},this.state.element.data),{},{label:e.target.value})})});else{var t={};t[e.target.id]=e.target.value;var s=Object.assign({},this.state.element.data,t);this.setState({element:Object(m.a)(Object(m.a)({},this.state.element),{},{data:Object(m.a)({},s)})})}}},{key:"updateText1",value:function(e){if(this.state.element){console.log("called"),console.log("inside",this.state.element);var t=this.props.element,s=this.state.element;this.state.updateNodeCb(t,s,"node"===t.data.type?0:1)}else console.log("empty",this.props);return this.setState({element:null}),!0}},{key:"handleChangeSpace",value:function(e){" "===e.key&&e.preventDefault()}},{key:"handleChange",value:function(e){var t={};t[e.target.id]=e.target.value;var s=Object.assign({},this.state.element.data,t);console.log(s),this.setState({element:Object(m.a)(Object(m.a)({},this.state.element),{},{data:Object(m.a)({},s)})})}},{key:"handleEditorDidMount",value:function(){this.setState({isEditorReady:!0})}},{key:"render",value:function(){var e=this;return this.state.element&&"edge"===this.state.element.data.type?Object(b.jsx)("div",{id:"propwrap",className:this.state.element&&this.state.element.data?"itson":"",children:Object(b.jsxs)("div",{id:"properties",className:this.state.element&&this.state.element.data?"expanded":"",children:[Object(b.jsx)("div",{id:"close",onClick:this._handleClickClose.bind(this),children:Object(b.jsx)("img",{src:"assets/close.svg",alt:"close"})}),Object(b.jsx)("p",{id:"header2",children:"Properties"}),Object(b.jsxs)("div",{id:"propswitch",children:[Object(b.jsx)("div",{id:"dataprop",className:"dataprop"===this.state.clicked?"navactive side":"navdisabled side",onClick:this._handleClick.bind(this),children:"Data"}),Object(b.jsx)("div",{id:"alertprop",className:"alertprop"===this.state.clicked?"navactive side":"navdisabled side",onClick:this._handleClick.bind(this),children:"Alerts"}),Object(b.jsx)("div",{id:"logsprop",className:"logsprop"===this.state.clicked?"navactive side":"navdisabled side",onClick:this._handleClick.bind(this),children:"Logs"})]}),Object(b.jsxs)("div",{className:"dataprop"===this.state.clicked?"proplist":"proplist hidden",children:[Object(b.jsx)("p",{className:"inputlabel",children:"Name"}),Object(b.jsx)("input",{className:"dropme",id:"id_label",type:"text",value:this.state.element&&this.state.element.data&&this.state.element.data.label||"",onChange:this.handlerChange.bind(this)}),Object(b.jsx)("p",{className:"inputlabel",children:"Edge Type"}),Object(b.jsxs)("select",{className:"dropme",id:"edgeType",value:this.state.element&&this.state.element.data&&this.state.element.data.edgeType||"Valueset",onChange:this.handleChange.bind(this),children:[Object(b.jsx)("option",{value:"Valueset",children:"Valueset"}),Object(b.jsx)("option",{value:"Comparison",children:"Comparison"})]}),e.state.element&&e.state.element.data&&"Comparison"===e.state.element.data.edgeType?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("p",{className:"inputlabel",children:"Comparison Type"}),Object(b.jsxs)("select",{className:"dropme",id:"comparisonOperator",value:e.state.element&&e.state.element.data&&e.state.element.data.comparisonOperator||"==",onChange:e.handleChange.bind(e),children:[Object(b.jsx)("option",{value:"<=",children:"<="}),Object(b.jsx)("option",{value:"==",children:"=="}),Object(b.jsx)("option",{value:"!=",children:"!="}),Object(b.jsx)("option",{value:"=>",children:"=>"}),Object(b.jsx)("option",{value:">",children:">"}),Object(b.jsx)("option",{value:"<",children:"<"})]}),Object(b.jsx)("p",{className:"inputlabel",children:"Comparison Value"}),Object(b.jsx)("input",{className:"dropme",id:"comparisonValue",type:"text",value:e.state.element&&e.state.element.data&&e.state.element.data.comparisonValue||"",onChange:e.handlerChange.bind(e)})]}):Object(b.jsx)(b.Fragment,{})]}),Object(b.jsx)("div",{className:"alertprop"===this.state.clicked?"proplist":"proplist hidden",children:Object(b.jsx)("div",{className:"checkus",children:Object(b.jsx)("p",{children:"Development inprogress"})})}),Object(b.jsx)("div",{className:"logsprop"===this.state.clicked?"proplist":"proplist hidden",children:Object(b.jsx)("div",{className:"checkus",children:Object(b.jsx)("p",{children:"Development inprogress"})})}),Object(b.jsx)("div",{id:"divisionthing"}),Object(b.jsx)("div",{id:"Saveblock",onClick:this.updateText1.bind(this),children:"Save"})]})}):Object(b.jsx)("div",{id:"propwrap",className:this.state.element&&this.state.element.data?"itson":"",children:Object(b.jsxs)("div",{id:"properties",className:this.state.element&&this.state.element.data?"expanded":"",children:[Object(b.jsx)("div",{id:"close",onClick:this._handleClickClose.bind(this),children:Object(b.jsx)("img",{src:"assets/close.svg",alt:"close"})}),Object(b.jsx)("p",{id:"header2",children:"Properties"}),Object(b.jsxs)("div",{id:"propswitch",children:[Object(b.jsx)("div",{id:"dataprop",className:"dataprop"===this.state.clicked?"navactive side":"navdisabled side",onClick:this._handleClick.bind(this),children:"Data"}),Object(b.jsx)("div",{id:"alertprop",className:"alertprop"===this.state.clicked?"navactive side":"navdisabled side",onClick:this._handleClick.bind(this),children:"Configuration"}),Object(b.jsx)("div",{id:"logsprop",className:"logsprop"===this.state.clicked?"navactive side":"navdisabled side",onClick:this._handleClick.bind(this),children:"Logs"})]}),Object(b.jsxs)("div",{className:"dataprop"===this.state.clicked?"proplist":"proplist hidden",children:[Object(b.jsx)("p",{className:"inputlabel",children:"Name"}),Object(b.jsx)("input",{className:"dropme",id:"var_name",type:"text",value:this.state.element&&this.state.element.data&&(this.state.element.data.var_name||this.state.element.id)||"",onChange:this.handlerChange.bind(this)}),Object(b.jsx)("p",{className:"inputlabel",children:"Message Body"}),Object(b.jsx)("textarea",{className:"dropmetextarea",id:"description",value:this.state.element&&this.state.element.data&&this.state.element.data.description||"",onChange:this.handlerChange.bind(this)}),e.state.element&&e.state.element.data&&"multimedia"===e.state.element.data.subtype?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("p",{className:"inputlabel",children:"Media Type"}),Object(b.jsxs)("select",{className:"dropme",id:"mediaType",value:e.state.element&&e.state.element.data&&e.state.element.data.mediaType||"Image",onChange:e.handleChange.bind(e),children:[Object(b.jsx)("option",{value:"Image",children:"Image"}),Object(b.jsx)("option",{value:"Audio",children:"Audio"}),Object(b.jsx)("option",{value:"Document",children:"Document"}),Object(b.jsx)("option",{value:"Video",children:"Video"})]}),Object(b.jsx)("p",{className:"inputlabel",children:"Media Url"}),Object(b.jsx)("input",{name:"mediaUrl",id:"mediaUrl",className:"dropme",placeholder:"Enter Media url",value:e.state.element.data.mediaUrl,onChange:e.handleChange.bind(e)})]}):Object(b.jsx)(b.Fragment,{})]}),Object(b.jsxs)("div",{className:"alertprop"===this.state.clicked?"proplist":"proplist hidden",children:[Object(b.jsx)("div",{className:"checkus",children:Object(b.jsx)("p",{})}),this.state.element&&this.state.element.data&&("suggestionchip"===this.state.element.data.subtype||"carousel"===this.state.element.data.subtype)&&this.state.rowChip.map((function(t,s){return Object(b.jsxs)("div",{className:"box",children:[e.state.element&&e.state.element.data&&"carousel"===e.state.element.data.subtype&&Object(b.jsxs)("span",{children:[Object(b.jsx)("p",{className:"inputlabel",children:"Image"}),Object(b.jsx)("input",{name:"image",className:"dropme",placeholder:"Enter Image url",value:t.image,onChange:function(t){return e.handleInputChange(t,s)}}),""===t.image?Object(b.jsx)("div",{className:"thumbnail"}):Object(b.jsx)("div",{className:"thumbnail",children:Object(b.jsx)("img",{src:t.image,alt:""})})]}),Object(b.jsx)("p",{className:"inputlabel",children:"Display Text"}),Object(b.jsx)("input",{className:"dropme",name:"text",placeholder:"Enter Suggestion Text  Max 25 Char",value:t.text,maxLength:"25",autoComplete:"off",onChange:function(t){return e.handleInputChange(t,s)}}),Object(b.jsx)("p",{className:"inputlabel",children:"Postback Text"}),Object(b.jsx)("input",{className:"dropme",name:"description",placeholder:"Enter Postback Text  Max 25 Char",value:t.description,autoComplete:"off",maxLength:"25",onKeyDown:e.handleChangeSpace.bind(e),onChange:function(t){return e.handleInputChange(t,s)}}),Object(b.jsxs)("div",{className:"btn-box",children:[1!==e.state.rowChip.length&&Object(b.jsx)("button",{className:"mr10",onClick:function(){return e.handleRemoveClick(s)},children:"Remove"}),e.state.rowChip.length-1===s&&Object(b.jsx)("button",{onClick:e.handleAddClick.bind(e),children:"Add"})]})]},"card_"+s)}))]}),Object(b.jsx)("div",{className:"logsprop"===this.state.clicked?"proplist":"proplist hidden",children:Object(b.jsx)("div",{})}),Object(b.jsx)("div",{id:"divisionthing"}),Object(b.jsx)("div",{id:"Saveblock",onClick:this.updateText1.bind(this),children:"Save"})]})})}}]),s}(a.Component)),O=function(e){Object(d.a)(s,e);var t=Object(r.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).state={updateNodeCb:e.publishClick},a}return Object(o.a)(s,[{key:"_download",value:function(e){return this.state.updateNodeCb(),!0}},{key:"render",value:function(){return Object(b.jsxs)("div",{id:"navigation",children:[Object(b.jsx)("div",{id:"leftside",children:Object(b.jsxs)("div",{id:"details",children:[Object(b.jsx)("div",{id:"back",children:Object(b.jsx)("img",{src:"assets/arrow.svg",alt:"revskill10"})}),Object(b.jsxs)("div",{id:"names",children:[Object(b.jsx)("p",{id:"title",children:"Your automation pipeline"}),Object(b.jsx)("p",{id:"subtitle",children:"Marketing automation"})]})]})}),Object(b.jsxs)("div",{id:"centerswitch",children:[Object(b.jsx)("div",{id:"leftswitch",children:"Diagram view"}),Object(b.jsx)("div",{id:"rightswitch",children:"Code editor"})]}),Object(b.jsxs)("div",{id:"buttonsright",children:[Object(b.jsx)("div",{id:"discard",children:"Discard"}),Object(b.jsx)("div",{id:"publish",onClick:this._download.bind(this),children:"Publish to site"})]})]})}}]),s}(a.Component),x=Object(a.memo)((function(e){var t=e.data,s="";return"suggestionchip"===t.subtype&&(!t.rowChip||t.rowChip.length<0||""===t.rowChip[0].text||""===t.rowChip[0].description)&&(s="red"),Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"blockelem noselect block botInput ".concat(s),children:[Object(b.jsx)(u.c,{type:"target",id:"a",position:"top",style:{borderRadius:0}}),Object(b.jsx)("div",{className:t.class||"blockyBlue",children:Object(b.jsxs)("div",{className:"blockyleft",children:[Object(b.jsx)("img",{src:"assets/".concat(t.image.split(".").join("blue.")),alt:t.image}),Object(b.jsx)("p",{className:"blockyname",children:t.label})]})}),Object(b.jsx)("div",{className:"blockydiv"}),Object(b.jsx)("div",{className:"blockyinfo",children:t.description}),Object(b.jsx)(u.c,{type:"source",id:"b",position:"bottom",style:{borderRadius:0}}),Object(b.jsx)(u.c,{type:"target",id:"c",position:"right",style:{top:"50%",borderRadius:0}}),Object(b.jsx)(u.c,{type:"target",id:"d",position:"left",style:{top:"50%",borderRadius:0}})]})})})),y=Object(a.memo)((function(e){var t=e.data;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"blockelem noselect block botInput",children:[Object(b.jsx)("div",{className:t.class||"blockyBlue",children:Object(b.jsxs)("div",{className:"blockyleft",children:[Object(b.jsx)("img",{src:"assets/".concat(t.image.split(".").join("blue.")),alt:t.image}),Object(b.jsx)("p",{className:"blockyname",children:t.label})]})}),Object(b.jsx)("div",{className:"blockydiv"}),Object(b.jsx)("div",{className:"blockyinfo",children:t.description}),Object(b.jsx)(u.c,{type:"source",position:"bottom",id:"a",style:{borderRadius:0}})]})})})),k=Object(a.memo)((function(e){var t=e.data;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"blockelem noselect block botInput",children:[Object(b.jsx)(u.c,{type:"target",position:"top",style:{borderRadius:0}}),Object(b.jsx)("div",{className:t.class||"blockyBlue",children:Object(b.jsxs)("div",{className:"blockyleft",children:[Object(b.jsx)("img",{src:"assets/".concat(t.image.split(".").join("blue.")),alt:t.image}),Object(b.jsx)("p",{className:"blockyname",children:t.label})]})}),Object(b.jsx)("div",{className:"blockydiv"}),Object(b.jsx)("div",{className:"blockyinfo",children:t.description}),Object(b.jsx)(u.c,{type:"source",position:"bottom",id:"a",style:{borderRadius:0}})]})})})),f=Object(a.memo)((function(e){var t=e.data;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"blockelem noselect block userInput",children:[Object(b.jsx)(u.c,{type:"target",id:"a",position:"top",style:{borderRadius:0}}),Object(b.jsx)("div",{className:t.class||"blockyGreen",children:Object(b.jsxs)("div",{className:"blockyleft",children:[Object(b.jsx)("img",{src:"assets/".concat(t.image.split(".").join("blue.")),alt:t.image}),Object(b.jsx)("p",{className:"blockyname",children:t.label})]})}),Object(b.jsx)("div",{className:"blockydiv"}),Object(b.jsx)("div",{className:"blockyinfo",children:t.description}),Object(b.jsx)(u.c,{type:"source",id:"b",position:"bottom",style:{borderRadius:0}}),Object(b.jsx)(u.c,{type:"target",id:"c",position:"right",style:{top:"50%",borderRadius:0}}),Object(b.jsx)(u.c,{type:"target",id:"d",position:"left",style:{top:"50%",borderRadius:0}})]})})})),C=s(22),N=s(9),w=s.n(N),S=s(19),T=(s(35),{selectorInput:x,selectorNodeStart:y,selectorStop:k,selectorUserInput:f}),I=1,D=0,_=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return"edge_".concat(e?++D:D)},R=function(e){Object(d.a)(s,e);var t=Object(r.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).state={nodeName:null,reactFlowInstance:null,state:{element:null},elements:C,reactFlowWrapper:i.a.createRef()},a}return Object(o.a)(s,[{key:"onConnect",value:function(e){this.setState({elements:Object(u.f)(Object(m.a)(Object(m.a)({},e),{},{type:"smoothstep",animated:!1,label:"Edge label "+_(),data:{label:"Edge label "+_(!1),type:"edge"},id:"react_edge_"+_(!1),arrowHeadType:"arrow"}),this.state.elements)})}},{key:"onElementsRemove",value:function(e){console.log("remove",e),"selectorNodeStart"!==e[0].type?this.setState({elements:Object(u.h)(e,this.state.elements)}):Object(S.confirmAlert)({title:"Alert",message:"You Can't remove start node.",buttons:[{label:"Ok"}]})}},{key:"onLoad",value:function(e){console.log("load"),this.resumeLoadContent(),this.setState({reactFlowInstance:e}),e.fitView()}},{key:"resumeLoadContent",value:function(){var e=this;w.a.get("readLater")?Object(S.confirmAlert)({title:"Confirm to Resume",message:"Do you want to resume work from last drafted project.",buttons:[{label:"Yes",onClick:function(){e.setState({elements:w.a.get("readLater")}),I=w.a.get("node_id"),D=w.a.get("edge_id"),console.log(I,D),e.callIntervalFunc()}},{label:"No",onClick:function(){e.callIntervalFunc()}}]}):this.callIntervalFunc()}},{key:"callIntervalFunc",value:function(){var e=this;this.timer=setInterval((function(){w.a.set("readLater",e.state.elements),w.a.set("node_id",I),w.a.set("edge_id",D)}),5e3)}},{key:"onDragOver",value:function(e){e.preventDefault(),e.dataTransfer.dropEffect="move",console.log("sdsd")}},{key:"onNodeDragStop",value:function(e,t){console.log("sdsd",t)}},{key:"onDrop",value:function(e){e.preventDefault();var t=this.state.reactFlowWrapper.current.getBoundingClientRect(),s=e.dataTransfer.getData("application/reactflow"),a=JSON.parse(e.dataTransfer.getData("element")),i=this.state.reactFlowInstance.project({x:e.clientX-t.left,y:e.clientY-t.top});console.log(a);var n={id:"dndnode_".concat(I++),type:s,position:i,label:"".concat(a.label),data:{label:"".concat(a.label),description:"".concat(a.description),subtype:"".concat(a.subtype||""),type:"node",image:a.image,class:a.class}};console.log("newNode",n,e.dataTransfer),this.setState({elements:this.state.elements.concat(n)})}},{key:"onElementClick",value:function(e,t){this.setState({element:t})}},{key:"onSaveAndPublishClick",value:function(e){var t=document.createElement("a"),s=new Blob([JSON.stringify(this.state.reactFlowInstance.toObject().elements)],{type:"application/json"});t.href=URL.createObjectURL(s),t.download="userFile.json",document.body.appendChild(t),t.click()}},{key:"updateEdgeText",value:function(e,t,s){console.log("old,newEl,type",t),this.setState({nodeName:t}),this.setState({element:null})}},{key:"componentDidMount",value:function(){}},{key:"componentWillUpdate",value:function(e,t){console.log("debug",this.state.nodeName,t.nodeName),this.state.nodeName!==t.nodeName&&(this.setState({elements:this.state.elements.map((function(e){return e.id===t.nodeName.id&&(e=t.nodeName),e}))}),console.log("debugRunn",this.state.nodeName,t.nodeName))}},{key:"render",value:function(){return Object(b.jsxs)(u.e,{children:[Object(b.jsx)(O,{publishClick:this.onSaveAndPublishClick.bind(this)}),Object(b.jsx)(g,{element:this.state.element,updateNodeCb:this.updateEdgeText.bind(this)}),Object(b.jsx)("div",{className:"sectionLeft dndflow reactflow-wrapper nested",ref:this.state.reactFlowWrapper,children:Object(b.jsxs)(u.g,{elements:this.state.elements,onConnect:this.onConnect.bind(this),onElementsRemove:this.onElementsRemove.bind(this),onLoad:this.onLoad.bind(this),onDrop:this.onDrop.bind(this),onDragOver:this.onDragOver.bind(this),deleteKeyCode:46,snapToGrid:!0,snapGrid:[30,30],onElementClick:this.onElementClick.bind(this),defaultZoom:1.5,onNodeDragStop:this.onNodeDragStop.bind(this),nodeTypes:T,children:[Object(b.jsx)(u.d,{nodeStrokeColor:function(e){var t;return(null===(t=e.style)||void 0===t?void 0:t.background)?e.style.background:"input"===e.type?"#0041d0":"output"===e.type?"#ff0072":"default"===e.type?"#1a192b":"selectorInput"===e.type?"#0041d0":"selectorStop"===e.type?"#ff0072":"selectorNodeStart"===e.type?"#1a192b":"#eee"},nodeColor:function(e){var t;return(null===(t=e.style)||void 0===t?void 0:t.background)?e.style.background:"#fff"},nodeBorderRadius:2}),Object(b.jsx)(u.b,{}),Object(b.jsx)(u.a,{color:"#aaa",gap:16})]})})]})}}]),s}(a.Component),F=(s(36),s(37),function(e){Object(d.a)(s,e);var t=Object(r.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)(j,{}),Object(b.jsx)(R,{})]})}}]),s}(i.a.Component)),E=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,40)).then((function(t){var s=t.getCLS,a=t.getFID,i=t.getFCP,n=t.getLCP,l=t.getTTFB;s(e),a(e),i(e),n(e),l(e)}))};l.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(F,{})}),document.getElementById("root")),E()}},[[39,1,2]]]);
//# sourceMappingURL=main.ff9d8aee.chunk.js.map